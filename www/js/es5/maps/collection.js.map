{"version":3,"sources":["collection.js"],"names":["System","register","_export","_context","_classCallCheck","instance","Constructor","TypeError","_createClass","Collection","setters","execute","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","models","this","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","model","value","add","err","id","collection","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","method","_len","arguments","args","Array","_key","_models$id","apply"],"mappings":"AAAA,YAAaA,QAAOC,YAAY,SAASC,EAAQC,GAAsC,QAASC,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAAtI,GAAIC,GAAaC,CAA4J,QAAQC,WAAWC,QAAQ,WAAWH,EAAa,WAAW,QAASI,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWC,WAAWD,EAAWC,aAAY,EAAMD,EAAWE,cAAa,EAAQ,SAAWF,KAAWA,EAAWG,UAAS,GAAKC,OAAOC,eAAeT,EAAOI,EAAWM,IAAIN,IAAc,MAAO,UAASX,EAAYkB,EAAWC,GAAuI,MAAvHD,IAAWZ,EAAiBN,EAAYoB,UAAUF,GAAeC,GAAYb,EAAiBN,EAAYmB,GAAoBnB,MAAkBG,EAAW,WAAW,QAASA,GAAWkB,GAAwD,GAAhDvB,EAAgBwB,KAAKnB,GAAYmB,KAAKD,UAAaA,EAAO,CAAC,GAAIE,IAA0B,EAASC,GAAkB,EAAUC,EAAeC,MAAU,KAAI,IAAI,GAYt7BC,GAZ07BC,EAYh8BP,EAAMQ,OAAAC,cAAAP,GAAAI,EAAAC,EAAAG,QAAAC,MAAAT,GAAA,EAAA,CAAA,GAAAU,GAAAN,EAAAO,KAAAZ,MAAAa,IAAAF,IAAA,MAAAG,GAAAZ,GAAA,EAAAC,EAAAW,EAAA,QAAA,KAAAb,GAAAK,EAAAA,WAAAA,EAAAA,YAAA,QAAA,GAAAJ,EAAA,KAAAC,MAuCT,MAvCSvB,GAAAC,IAAAc,IAAA,MAAAiB,MAAA,SAAAD,GAAAX,KAAAD,OAAAY,EAAAI,IAAAJ,EAAAA,EAAAK,WAAAhB,QAAAL,IAAA,SAAAiB,MAAA,SAAAD,SAAAX,MAAAD,OAAAY,EAAAI,UAAAJ,GAAAK,cAAArB,IAAA,QAAAiB,MAAA,WAAA,GAAAK,IAAA,EAAAC,GAAA,EAAAC,EAAAf,MAAA,KAAA,IAAA,GA4BFgB,GA5BEC,EA4BbrB,KAAKD,OAAMQ,OAAAC,cAAAS,GAAAG,EAAAC,EAAAZ,QAAAC,MAAAO,GAAA,EAAA,CAAA,GAAAF,GAAAK,EAAAR,YAAAZ,MAAAD,OAAAgB,GAAAC,YAAA,MAAAF,GAAAI,GAAA,EAAAC,EAAAL,EAAA,QAAA,KAAAG,GAAAI,EAAAA,WAAAA,EAAAA,YAAA,QAAA,GAAAH,EAAA,KAAAC,IAAAnB,KAAAD,aAAAJ,IAAA,UAAAiB,MAAA,SAAAU,GAAA,IAAA,GAAAC,GAAAC,UAAApC,OAWXqC,EAAIC,MAAAH,EAAA,EAAAA,EAAA,EAAA,GAAAI,EAAA,EAAAJ,EAAAI,EAAAA,IAAJF,EAAIE,EAAA,GAAAH,UAAAG,EAAA,KAAA,GAAAZ,KAAAf,MAAAD,OAAA,CAAA,GAAA6B,IAAAA,EAAA5B,KAAAD,OAAAgB,IAAAO,GAAAO,MAAAD,EAAAH,QAAA5C,KAAAP,EAAA,UAAAO","file":"collection.js","sourcesContent":["\n/**\n * Holds a collection of models\n */\nexport default class Collection {\n    /**\n     * Creates a new Collection instance\n     * @param {Model[]=} models - Suplied array of models\n     */\n    constructor(models) {\n        this.models = {}\n        if (models) {\n            for (let model of models) {\n                this.add(model)\n            }\n        }\n    }\n\n    /**\n     * Add model to collection\n     * @param {Model} model\n     */\n    add(model) {\n        this.models[model.id] = model\n        model.collection = this\n    }\n\n    /**\n     * Remove model from the collection\n     * @param {Model} model\n     */\n    remove(model) {\n        delete this.models[model.id]\n        delete model.collection\n    }\n\n    /**\n     * Remove all models from collection\n     */\n    clear() {\n        for (let id of this.models) {\n            delete this.models[id].collection\n        }\n        this.models = {}\n    }\n\n    /**\n     * Runs the suplied model method for each model in the collection\n     * @param {string} method - Method to be called\n     * @param {...*=} args - Arguments to pass\n     */\n    forEach(method, ...args) {\n        for (let id in this.models) {\n            this.models[id][method](...args)\n        }\n    }\n}\n"],"sourceRoot":"/source/"}