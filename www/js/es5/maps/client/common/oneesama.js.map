{"version":3,"sources":["client/common/oneesama.js"],"names":["System","register","_export","_context","_taggedTemplateLiteral","strings","raw","Object","freeze","defineProperties","value","_classCallCheck","instance","Constructor","TypeError","_templateObject","_templateObject2","_createClass","_","index","util","_imports","config","pad","parseHTML","break_re","OneeSama","setters","execute","target","props","i","length","descriptor","enumerable","configurable","writable","defineProperty","key","protoProps","staticProps","prototype","require","imports","RegExp","WORD_LENGTH_LIMIT","this","d","seconds","html","getUTCDate","lang","year","getUTCMonth","getUTCFullYear","week","getUTCDay","getUTCHours","getUTCMinutes","getUTCSeconds","num","expand","lastN","last","inner","href","cls","innerCls","asideLink","module","exports"],"mappings":"AAAA,YAAaA,QAAOC,YAAY,SAASC,EAAQC,GAAyH,QAASC,GAAuBC,EAAQC,GAAK,MAAOC,QAAOC,OAAOD,OAAOE,iBAAiBJ,GAASC,KAAKI,MAAMH,OAAOC,OAAOF,OAAU,QAASK,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAA/V,GAAIC,GAAgBC,EAAiBC,EAAaC,EAAEC,EAAMC,EAAKC,EAASC,EAAOC,EAAIC,EAAUC,EAASC,CAAgS,QAAQC,WAAWC,QAAQ,WAAWb,EAAgBX,GAAwB,mDAAuD,4BAAiC,qCAAiD,SAAS,4BAAiC,IAAI,2BAAkC,mDAAuD,4BAAiC,qCAAiD,SAAS,4BAAiC,IAAI,2BAAkCY,EAAiBZ,GAAwB,2BAA2B,cAAkB,UAAe,iBAA0B,4BAAmC,2BAA2B,cAAkB,UAAe,iBAA0B,4BAAmCa,EAAa,WAAW,QAASR,GAAiBoB,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWC,WAAWD,EAAWC,aAAY,EAAMD,EAAWE,cAAa,EAAQ,SAAWF,KAAWA,EAAWG,UAAS,GAAK7B,OAAO8B,eAAeR,EAAOI,EAAWK,IAAIL,IAAc,MAAO,UAASpB,EAAY0B,EAAWC,GAAuI,MAAvHD,IAAW9B,EAAiBI,EAAY4B,UAAUF,GAAeC,GAAY/B,EAAiBI,EAAY2B,GAAoB3B,MAI/rDK,EAAIwB,QAAQ,cACjBvB,EAAQuB,QAAQ,WAChBtB,EAAOsB,QAAQ,UAARrB,EACIsB,QAAVrB,EAAAD,EAAAC,OACAC,EAAkBH,EAAlBG,IAAKC,EAAaJ,EAAbI,UAEDC,EAAW,GAAImB,QAAO,QAAUzB,EAAM0B,kBAAoB,MAE1DnB,EAAA,WAAA,QAAAA,KAAAf,EAAAmC,KAAApB,GA2CU,MA3CVT,GAAAS,IAAAY,IAAA,kBAAA5B,MAAA,SAGWqC,EAAGC,GAClB,GAAIC,GAAO1B,EAAIwB,EAAEG,cAAgB,IAC9BJ,KAAKK,KAAKC,KAAKL,EAAEM,eAAiB,IAClCN,EAAEO,kBAFM,IAGJR,KAAKK,KAAKI,KAAKR,EAAES,aAAjB,MACFjC,EAAIwB,EAAEU,eAAN,IAAwBlC,EAAIwB,EAAEW,iBALR,OAMvBV,KACHC,GAAA,IAAY1B,EAAIwB,EAAEY,kBADnBV,GAEQ,UARmBX,IAAA,iBAAA5B,MAAA,SAabkD,GACd,MAAOpC,GAAAT,EAEM6C,EACRd,KAAKK,KAAKU,OAGFD,EAAYd,KAAKgB,MACzBhB,KAAKK,KAAKY,KAAQjB,KAAKgB,UARTxB,IAAA,YAAA5B,MAAA,SAcVsD,EAAOC,EAAMC,EAAKC,GAC3B,MAAO3C,GAAAR,EACqBkD,EACrBD,GAAA,SAAiBA,EAAA,IACnBE,GAAA,WAAuBA,EAAA,IAEvBrB,KAAKK,KAAKa,IAAUA,MANY1B,IAAA,WAAA5B,MAAA,WAWrC,MAAOoC,MAAKsB,UAAU,QAAS,KAAM,cAD3B9B,IAAA,eAAA5B,MAAA,WAIV,MAAOoC,MAAKsB,UAAU,YAAa,KAAM,eA5CrC1C,KA+CN2C,OAAOC,QAAU5C","file":"client/common/oneesama.js","sourcesContent":["/*\n Rendering singleton both server and client-side\n */\n\nconst _ = require('underscore'),\n\tindex = require('./index'),\n\tutil = require('./util'),\n\t{config} = imports,\n\t{pad, parseHTML} = util;\n\nconst break_re = new RegExp(\"(\\\\S{\" + index.WORD_LENGTH_LIMIT + \"})\");\n\nclass OneeSama {\n\n\n\treadableUTCTime(d, seconds) {\n\t\tlet html = pad(d.getUTCDate()) + ' '\n\t\t\t+ this.lang.year[d.getUTCMonth()] + ' '\n\t\t\t+ d.getUTCFullYear()\n\t\t\t+ `(${this.lang.week[d.getUTCDay()]})`\n\t\t\t+`${pad(d.getUTCHours())}:${pad(d.getUTCMinutes())}`;\n\t\tif (seconds)\n\t\t\thtml += `:${pad(d.getUTCSeconds())}`;\n\t\thtml += ' UTC';\n\t\treturn html;\n\t}\n\n\n\texpansionLinks(num) {\n\t\treturn parseHTML\n\t\t\t`<span class=\"act expansionLinks\">\n\t\t\t\t<a href=\"${num}\" class=\"history\">\n\t\t\t\t\t${this.lang.expand}\n\t\t\t\t</a>\n\t\t\t\t] [\n\t\t\t\t<a href=\"${num}?last=${this.lastN}\" class=\"history\">\n\t\t\t\t\t${this.lang.last} ${this.lastN}\n\t\t\t\t</a>\n\t\t\t</span>`;\n\t}\n\n\n\tasideLink(inner, href, cls, innerCls) {\n\t\treturn parseHTML\n\t\t\t`<aside class=\"act glass ${cls}\">\n\t\t\t\t<a ${href && `href=\"${href}\"`}\n\t\t\t\t\t${innerCls && ` class=\"${innerCls}\"`}\n\t\t\t\t>\n\t\t\t\t\t${this.lang[inner] || inner}\n\t\t\t\t</a>\n\t\t\t</aside>`\n\t}\n\treplyBox() {\n\t\treturn this.asideLink('reply', null, 'posting');\n\t}\n\tnewThreadBox() {\n\t\treturn this.asideLink('newThread', null, 'posting');\n\t}\n}\nmodule.exports = OneeSama;\n"],"sourceRoot":"/source/"}