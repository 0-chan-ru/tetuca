{"version":3,"sources":["client/hide.js"],"names":["System","register","_export","_context","main","hidden","setters","execute","require","Memory","reply","model","get","count","write","remove","request","purgeAll","defer","size"],"mappings":"AAAA,YAAaA,QAAOC,YAAY,SAASC,EAAQC,GAAU,GAAIC,GAAKC,CAAO,QAAQC,WAAWC,QAAQ,WAIlGH,EAAOI,QAAQ,UAIfH,EAAS,GAAID,GAAKK,OAAO,OAAQ,GAAG,GAExCL,EAAKM,MAAM,OAAQ,SAASC,GAG3B,IAAIA,EAAMC,IAAI,QAAd,CAAA,GAEMC,GAAQR,EAAOS,MAAMH,EAAMC,IAAI,OALHD,GAM5BI,SAN4BX,EAS7BY,QAAQ,cAAeH,MAG7BT,EAAKM,MAAM,aAAc,WAAA,MAAML,GAAOY,aAGtCb,EAAKc,MAAM,WAAA,MAAMd,GAAKY,QAAQ,cAAeX,EAAOc","file":"client/hide.js","sourcesContent":["/*\n Hide posts you don't like\n */\n\nlet main = require('./main');\n\n// Remember hidden posts for 7 days only to prevent the cookie from\n// eclipsing the Sun\nlet hidden = new main.Memory('hide', 7, true);\n\nmain.reply('hide', function(model) {\n\t// Hiding your own posts would open up the gates for a ton of bugs. Fuck\n\t// that.\n\tif (model.get('mine'))\n\t\treturn;\n\tconst count = hidden.write(model.get('num'));\n\tmodel.remove();\n\n\t// Forward number to options menu\n\tmain.request('hide:render', count);\n});\n\nmain.reply('hide:clear', () => hidden.purgeAll());\n\n// Initial render\nmain.defer(() => main.request('hide:render', hidden.size()));\n"],"sourceRoot":"/source/"}