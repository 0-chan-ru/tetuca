{"version":3,"sources":["options/models.js"],"names":["System","register","_export","_classCallCheck","instance","Constructor","TypeError","_createClass","optionModels","OptionModel","setters","execute","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","model","_this","this","undefined","load","extend","type","val","options","attributes","id","get","on","onChange","execOnStart","value","localStorage","getItem","stored","read","num","parseInt","set","exec","setItem","validation"],"mappings":"AAAA,YAAaA,QAAOC,YAAY,SAASC,GAAmD,QAASC,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAApJ,GAAIC,GAAaC,EAAaC,CAA6J,QAAQC,WAAWC,QAAQ,WAAWJ,EAAa,WAAY,QAASK,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWC,WAAWD,EAAWC,aAAY,EAAMD,EAAWE,cAAa,EAAQ,SAAWF,KAAWA,EAAWG,UAAS,GAAKC,OAAOC,eAAeT,EAAOI,EAAWM,IAAIN,IAAc,MAAO,UAASZ,EAAYmB,EAAWC,GAAuI,MAAvHD,IAAWZ,EAAiBP,EAAYqB,UAAUF,GAAeC,GAAYb,EAAiBP,EAAYoB,GAAoBpB,MAAmBG,KAAgBC,EAAY,WAAY,QAASA,GAAYkB,GAAO,GAAIC,GAAMC,IAAuC,IAAlC1B,EAAgB0B,KAAKpB,GAA6BqB,SAAbH,EAAMI,MAAmBJ,EAAMI,KAAlC,CAAgDC,OAAOH,KAAKF,GAAWE,KAAKI,OAAMJ,KAAKI,KAAK,WAAY,IAAIC,GAAIC,QAAQC,WAAWP,KAAKQ,IAAIR,KAAKS,KAAMH,SAAQI,GAAG,UAAUV,KAAKQ,GAAG,SAASF,EAAQD,GAAK,MAAON,GAAMY,SAASN,KAAWL,KAAKY,eAAc,GAAOZ,KAAKlB,QAAQuB,GAAM1B,EAAaqB,KAAKQ,IAAIR,MAAqtB,MAA/sBtB,GAAaE,IAAcc,IAAI,OAAOmB,MAAM,WAAgB,MAAOC,cAAaC,QAAQf,KAAKQ,OAAQd,IAAI,MAAMmB,MAAM,WAAe,GAAIG,GAAOhB,KAAKiB,MAAO,IAAID,EAAkC,CAAC,GAAY,UAATA,EAAkB,OAAO,CAAO,IAAY,SAATA,EAAiB,OAAO,CAAM,IAAIE,GAAIC,SAASH,EAAO,GAAI,OAAGE,IAAW,IAANA,EAAgBA,EAAYlB,KAAAA,WAA/J,MAAOA,MAAAA,cAA0KN,IAAI,WAAWmB,MAAM,SAAkBR,GAAKL,KAAKlB,QAAQuB,GAAKL,KAAKoB,IAAIf,MAASX,IAAI,UAAUmB,MAAM,SAAiBR,GAAQL,KAAKqB,MAAMrB,KAAKqB,KAAKhB,MAAUX,IAAI,MAAMmB,MAAM,SAAaR,IAAQA,IAAML,KAAAA,YAAcA,KAAKiB,SAAQH,aAAaQ,QAAQtB,KAAKQ,GAAGH,MAAUX,IAAI,WAAWmB,MAAM,SAAkBR,GAAK,MAAGL,MAAKuB,WAAmBvB,KAAKuB,WAAWlB,IAAa,MAAiBzB","file":"options/models.js","sourcesContent":["'use strict';System.register([],function(_export){var _createClass,optionModels,OptionModel;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}return {setters:[],execute:function(){_createClass=(function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\" in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();optionModels={};OptionModel=(function(){function OptionModel(model){var _this=this;_classCallCheck(this,OptionModel);if(model.load!==undefined&&!model.load){return;}extend(this,model);if(!this.type){this.type='checkbox';}var val=options.attributes[this.id]=this.get();options.on('change:'+this.id,function(options,val){return _this.onChange(val);});if(this.execOnStart!==false){this.execute(val);}optionModels[this.id]=this;}_createClass(OptionModel,[{key:'read',value:function read(){return localStorage.getItem(this.id);}},{key:'get',value:function get(){var stored=this.read();if(!stored){return this.default;}else {if(stored==='false'){return false;}if(stored===\"true\"){return true;}var num=parseInt(stored,10);if(num||num===0){return num;}return this.default;}}},{key:'onChange',value:function onChange(val){this.execute(val);this.set(val);}},{key:'execute',value:function execute(val){if(this.exec){this.exec(val);}}},{key:'set',value:function set(val){if(val!==this.default||this.read()){localStorage.setItem(this.id,val);}}},{key:'validate',value:function validate(val){if(this.validation){return this.validation(val);}return true;}}]);return OptionModel;})();}};});"],"sourceRoot":"/source/"}