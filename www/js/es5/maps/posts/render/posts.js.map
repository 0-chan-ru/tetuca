{"version":3,"sources":["posts/render/posts.js"],"names":["System","register","_export","_context","_taggedTemplateLiteral","strings","raw","Object","freeze","defineProperties","value","renderPost","data","image","mod","body","backlinks","banned","parseHTML","_templateObject3","renderHeader","renderImage","renderModInfo","renderBody","renderBacklinks","renderBanned","_templateObject","_templateObject2","setters","_util","_header","_image","_etc","_body","execute","renderSection","cls","arguments","length","undefined","locked","editing","large","num","renderArticle"],"mappings":"AAAA,YAAaA,QAAOC,UAAU,aAAa,WAAW,UAAU,QAAQ,UAAU,SAASC,EAAQC,GAA2I,QAASC,GAAuBC,EAAQC,GAAK,MAAOC,QAAOC,OAAOD,OAAOE,iBAAiBJ,GAASC,KAAKI,MAAMH,OAAOC,OAAOF,OAAU,QAASK,GAAWC,GAAM,GAAIC,GAAMD,EAAKC,MAAUC,EAAIF,EAAKE,IAAQC,EAAKH,EAAKG,KAASC,EAAUJ,EAAKI,UAAcC,EAAOL,EAAKK,MAAO,OAAOC,GAAUC,EAAiBC,EAAaR,GAAMS,EAAYR,GAAOC,EAAIQ,cAAcR,GAAK,GAAGS,EAAWR,GAAMS,EAAgBR,GAAWC,EAAOQ,IAAe,IAAljB,GAAIP,GAAUE,EAAaC,EAAYI,EAAaD,EAAgBD,EAAWG,EAAgBC,EAAiBR,CAAuc,QAAQS,SAAS,SAASC,GAAOX,EAAUW,EAAMX,WAAY,SAASY,GAASV,EAAaU,EAAQV,cAAe,SAASW,GAAQV,EAAYU,EAAOV,aAAc,SAASW,GAAMP,EAAaO,EAAKP,aAAaD,EAAgBQ,EAAKR,iBAAkB,SAASS,GAAOV,EAAWU,EAAMV,aAAcW,QAAQ,WAAy5B,QAASC,GAAcvB,GAAM,GAgBv2DwB,GAAAC,UAAAC,QAAA,GAAAC,SAAAF,UAAA,GAAM,GAAAA,UAAA,EAAA,OAAAzB,GAAA4B,SAAAJ,GAAA,WAAAxB,EAAA6B,UAAAL,GAAA,YAAAxB,EAAAC,MAAA6B,OAAA,EAAAxB,EAAAQ,EAAAd,EAAA+B,IAAAP,EAAAzB,EAAAC,IAAA,QAAAgC,GAAAhC,GAAA,GAAAwB,GAAA,OAAA,OAAAxB,GAAA6B,UAAAL,GAAA,YAAAlB,EAAAS,EAAAf,EAAA+B,IAAAP,EAAAzB,EAAAC,IAhBs7Bc,EAAgBtB,GAAwB,iBAAiB,YAAY,8CAAqD,8DAAuE,iBAAiB,YAAY,8CAAqD,8DAAuEuB,EAAiBvB,GAAwB,iBAAiB,YAAY,UAAa,mBAAqB,iBAAiB,YAAY,UAAa,mBAAqBe,EAAiBf,GAAwB,GAAG,OAAS,mCAAwC,0BAAiC,uCAAiD,qBAA2B,eAAiB,GAAG,OAAS,mCAAwC,0BAAiC,uCAAiD,qBAA2B,eAgBnzDF,EAAA,gBAAAiC,GAAAjC,EAAA,gBAAA0C","file":"posts/render/posts.js","sourcesContent":["/**\n * Posts rendering module\n */\n\nimport {parseHTML} from '../../util'\nimport {renderHeader} from './header'\nimport {renderImage} from './image'\nimport {renderBanned, renderBacklinks} from './etc'\nimport {renderBody} from './body'\n\n/**\n * Render the OP\n * @param {Post} data - Post model\n * @param {string=} cls - Class to assign to post\n * @returns {string}\n */\nexport function renderSection(data, cls = '') {\n\tif (data.locked) {\n\t\tcls += ' locked'\n\t}\n\tif (data.editing) {\n\t\tcls += ' editing'\n\t}\n\tdata.image.large = true // Larger thumbnails\n\n\treturn parseHTML\n\t\t`<section id=\"p${data.num}\" class=\"${cls}\">\n\t\t\t<div class=\"background glass\">\n\t\t\t\t${renderPost(data)}\n\t\t\t\t<span class=\"omit\"></span>\n\t\t\t</div>\n\t\t</section>`\n}\n\n/**\n * Render a reply post\n * @param {Post} data\n * @returns {string}\n */\nexport function renderArticle(data) {\n\tlet cls = 'glass'\n\tif (data.editing) {\n\t\tcls += ' editing'\n\t}\n\treturn parseHTML\n\t\t`<article id=\"p${data.num}\" class=\"${cls}\">\n\t\t\t${renderPost(data)}\n\t\t</article>`\n}\n\nfunction renderPost(data) {\n\tconst {image, mod, body, backlinks, banned} = data\n\n\treturn parseHTML\n\t\t`${renderHeader(data)}\n\t\t${renderImage(image)}\n\t\t<div class=\"container\">\n\t\t\t${mod ? renderModInfo(mod) : ''}\n\t\t\t<blockquote>\n\t\t\t\t${renderBody(body)}\n\t\t\t</blockquote>\n\t\t\t<small>\n\t\t\t\t${renderBacklinks(backlinks)}\n\t\t\t</small>\n\t\t\t${banned ? renderBanned(): ''}\n\t\t</div>`\n}\n"],"sourceRoot":"/source/"}