{"version":3,"sources":["posts/render/header.js"],"names":["System","register","_export","_taggedTemplateLiteral","strings","raw","Object","freeze","defineProperties","value","resolveName","data","html","trip","name","auth","escape","lang","anon","imports","hotConfig","staff_aliases","readableTime","time","d","Date","pad","getDate","year","getMonth","getFullYear","week","getDay","getHours","getMinutes","relativeTime","then","now","Math","floor","isFuture","undefined","this","just_now","divide","unit","i","length","ago","parseHTML","_templateObject","_templateObject2","_templateObject3","setters","_underscore","_util","execute","renderHeader","num","op","subject","renderName","renderTime","postURL","email","attrs","class","href","encodeURI","target","mnemonic","renderMnemonic","mnem","title","text","readable","options","get"],"mappings":"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","file":"posts/render/header.js","sourcesContent":["'use strict';System.register(['underscore','../util'],function(_export){var escape,parseHTML,pad,_templateObject,_templateObject2,_templateObject3;function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}));}function resolveName(data){var html='';var trip=data.trip;var name=data.name;var auth=data.auth;if(name||!trip){if(name){html+=escape(name);}else {html+=lang.anon;}if(trip){html+=' ';}}if(trip){html+='<code>'+escape(trip)+'</code>';}if(auth){html+=' ## '+(imports.hotConfig.staff_aliases[auth]||auth);}return html;}function readableTime(time){var d=new Date(time);return pad(d.getDate())+' '+lang.year[d.getMonth()]+' '+d.getFullYear()+('('+lang.week[d.getDay()]+')')+(pad(d.getHours())+':'+pad(d.getMinutes()));}function relativeTime(then,now){var time=Math.floor((now-then)/60000),isFuture=undefined;if(time<1){if(time>-5){return this.lang.just_now;}else {isFuture=true;time=-time;}}var divide=[60,24,30,12],unit=['minute','hour','day','month'];for(var i=0;i<divide.length;i++){if(time<divide[i]){return lang.ago(time,lang.time[unit[i]],isFuture);}time=Math.floor(time/divide[i]);}return lang.ago(time,lang.time.year,isFuture);}return {setters:[function(_underscore){escape=_underscore.escape;},function(_util){parseHTML=_util.parseHTML;pad=_util.pad;}],execute:function(){_templateObject=_taggedTemplateLiteral(['<header>\\n            <input type=\"checkbox\" class=\"postCheckbox\">\\n            ','\\n            ','\\n            ','\\n            <nav>\\n                <a href=\"','\" class=\"history\">\\n                    No.\\n                </a>\\n                <a href=\"','\" class=\"quote\">\\n                    ','\\n                </a>\\n            </nav>\\n        </header>\\n        <span class=\"oi control\" data-glyph=\"chevron-bottom\"></span>'],['<header>\\n            <input type=\"checkbox\" class=\"postCheckbox\">\\n            ','\\n            ','\\n            ','\\n            <nav>\\n                <a href=\"','\" class=\"history\">\\n                    No.\\n                </a>\\n                <a href=\"','\" class=\"quote\">\\n                    ','\\n                </a>\\n            </nav>\\n        </header>\\n        <span class=\"oi control\" data-glyph=\"chevron-bottom\"></span>']);_templateObject2=_taggedTemplateLiteral(['<a ','>'],['<a ','>']);_templateObject3=_taggedTemplateLiteral(['<time title=\"','\">\\n            ','\\n        </time>'],['<time title=\"','\">\\n            ','\\n        </time>']);function renderHeader(data){var num=data.num;var op=data.op;var subject=data.subject;return parseHTML(_templateObject,subject?'<h3>「'+escape(data.subject)+'」</h3>':'',renderName(data),renderTime(data.time),this.postURL(num,op),this.postURL(num,op),num);}_export('renderHeader',renderHeader);function renderName(data){var html='<b class=\"name';var auth=data.auth;var email=data.email;if(auth){html+=' '+(auth==='admin'?'admin':'moderator');}html+='\">';if(email){var attrs={class:'email',href:'mailto:'+encodeURI(email),target:'blank'};html+=parseHTML(_templateObject2,attrs);}html+=resolveName(data);if(email){html+='</a>';}html+='</b>';if(data.mnemonic){html+=' '+renderMnemonic(data.mnemonic);}return html;}_export('renderName',renderName);function renderMnemonic(mnemonic){return '<b class=\"mod addr\">'+mnem+'</b>';}_export('renderMnemonic',renderMnemonic);function renderTime(time){var title=undefined,text=undefined;var readable=readableTime(time);if(options.get('relativeTime')){title=readable;text=relativeTime(time,Date.now());}return parseHTML(_templateObject3,title,text||readable);}_export('renderTime',renderTime);}};});"],"sourceRoot":"/source/"}