{"version":3,"sources":["posts/render/index.js"],"names":["System","register","_export","_context","_taggedTemplateLiteral","strings","raw","Object","freeze","defineProperties","value","renderPost","data","image","mod","body","backlinks","banned","parseHTML","_templateObject3","renderHeader","renderImage","renderModInfo","renderBody","renderBacklinks","renderBanned","_templateObject","_templateObject2","setters","_util","_header","execute","renderSection","cls","arguments","length","undefined","locked","editing","large","num","renderArticle"],"mappings":"AAAA,YAAaA,QAAOC,UAAU,UAAU,aAAa,SAASC,EAAQC,GAAuF,QAASC,GAAuBC,EAAQC,GAAK,MAAOC,QAAOC,OAAOD,OAAOE,iBAAiBJ,GAASC,KAAKI,MAAMH,OAAOC,OAAOF,OAAU,QAASK,GAAWC,GAAM,GAAIC,GAAMD,EAAKC,MAAUC,EAAIF,EAAKE,IAAQC,EAAKH,EAAKG,KAASC,EAAUJ,EAAKI,UAAcC,EAAOL,EAAKK,MAAO,OAAOC,GAAUC,EAAiBC,EAAaR,GAAMS,YAAYR,GAAOS,cAAcR,GAAKS,WAAWR,GAAMC,EAAUQ,gBAAgBR,GAAW,GAAGC,EAAOQ,eAAe,IAApgB,GAAIP,GAAUE,EAAaM,EAAgBC,EAAiBR,CAA6c,QAAQS,SAAS,SAASC,GAAOX,EAAUW,EAAMX,WAAY,SAASY,GAASV,EAAaU,EAAQV,eAAgBW,QAAQ,WAA6mC,QAASC,GAAcpB,GAAM,GAa3zDqB,GAAGC,UAAAC,QAAA,GAAAC,SAAAF,UAAA,GAAG,GAAEA,UAAA,EAAA,OAAAtB,GAAAyB,SAAAJ,GAAA,WAAArB,EAAA0B,UAAAL,GAAA,YAAArB,EAAAC,MAAA0B,OAAA,EAAArB,EAAAQ,EAAAd,EAAA4B,IAAAP,EAAAtB,EAAAC,IAAA,QAAA6B,GAAA7B,GAAA,GAAAqB,GAAA,OAAA,OAAArB,GAAA0B,UAAAL,GAAA,YAAAf,EAAAS,EAAAf,EAAA4B,IAAAP,EAAAtB,EAAAC,IAborBc,EAAgBtB,GAAwB,iBAAiB,YAAY,mEAAmE,yFAAyF,iBAAiB,YAAY,mEAAmE,yFAAyFuB,EAAiBvB,GAAwB,iBAAiB,YAAY,mBAAmB,yBAAyB,iBAAiB,YAAY,mBAAmB,yBAAyBe,EAAiBf,GAAwB,GAAG,aAAa,kDAAkD,+CAA+C,qEAAqE,uCAAuC,qBAAqB,GAAG,aAAa,kDAAkD,+CAA+C,qEAAqE,uCAAuC,qBAajwDF,EAAA,gBAAA8B,GAAA9B,EAAA,gBAAAuC","file":"posts/render/index.js","sourcesContent":["/**\n * Posts rendering module\n */\n\nimport {parseHTML} from '../util'\nimport {renderHeader} from '../header'\n\n/**\n * Render the OP\n * @param {Post} data - Post model\n * @param {string=} cls - Class to assign to post\n * @returns {string}\n */\nexport function renderSection(data, cls = '') {\n    if (data.locked) {\n        cls += ' locked'\n    }\n    if (data.editing) {\n        cls += ' editing'\n    }\n    data.image.large = true // Larger thumbnails\n\n    return parseHTML\n        `<section id=\"p${data.num}\" class=\"${cls}\">\n            <div class=\"background glass\">\n                ${renderPost(data)}\n                <span class=\"omit\"></span>\n            </div>\n        </section>`\n}\n\n/**\n * Render a reply post\n * @param {Post} data\n * @returns {string}\n */\nexport function renderArticle(data) {\n    let cls = 'glass'\n    if (data.editing) {\n        cls += ' editing'\n    }\n    return parseHTML\n        `<article id=\"p${data.num}\" class=\"${cls}\">\n            ${renderPost(data)}\n        </article>`\n}\n\nfunction renderPost(data) {\n    const {image, mod, body, backlinks, banned} = data\n\n    return parseHTML\n        `${renderHeader(data)}\n        ${renderImage(image)}\n        <div class=\"container\">\n            ${renderModInfo(mod)}\n            <blockquote>\n                ${renderBody(body)}\n            </blockquote>\n            <small>\n                ${backlinks ? renderBacklinks(backlinks) : ''}\n            </small>\n            ${banned ? renderBanned(): ''}\n        </div>`\n}\n"],"sourceRoot":"/source/"}