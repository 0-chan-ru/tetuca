"use strict";System.register(["main","underscore"],function(e){function n(e,n){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function t(e){return"hide"!==options.get("thumbs")?"":parseHTML(h,u[e?"hide":"show"])}function r(e){var n="";if([".pdf",".mp3"].indexOf(e.ext)>-1)return options.get("google")?y.google(e):"";for(var t in y)n+=y[t](e);return n}function i(e,n){return b[type]+e[n&&e.mid?"mid":"thumb"]}function a(e){var n="",t=e.imgnm,r=t.match(/^(.*)\.\w{3,4}$/);r&&(n=r[1]);var i=l.escape(t),a=n.length>=38;a&&(t=l.escape(n.slice(0,30))+"(&hellip;)"+l.escape(e.ext));var s={href:o.SECONDARY_MEDIA_URL+"src/"+e.src,rel:"nofollow",download:i};return a&&(s.title=i),parseHTML(f,s,t)}function s(e){var n=e.large,t=e.spoiler,r=b.spoil;return(n||"small"!==options.get("thumbs"))&&(r+="s"),html+=t+".png",{thumb:r,dims:o.images.thumb[n?"midDims":"thumbDims"]}}var o,u,l,m,g,c,h,p,f,d,b,y;return{setters:[function(e){o=e.config,u=e.lang},function(e){l=e}],execute:function(){function u(e,n){var t="hide"!==options.get("thumbs")||n;return parseHTML(g,l(e,n),o.images.hat&&t?'<span class="hat"></span>':"",t?v(e):"")}function l(e,n){var i=commaList([e.audio&&"â™«",e.length,util.readable_filesize(e.size),e.dims[0]+"x"+e.dims[1],e.apng&&"APNG"]);return parseHTML(c,t(n),r(e),i,a(e))}function v(e,n){var t=b.src+e.src,r=void 0,i=m(e.dims,4),a=(i[0],i[1],i[2]),o=i[3];if(e.spoiler&&options.get("spoilers")){var u=s(e);r=u.thumb,a=u.dims[0],o=u.dims[1]}else r=".gif"===e.ext&&options.get("autogif")?t:this.thumbPath(e,"small"!==options.get("thumbs"));var l={target:"_blank",rel:"nofollow",href:n||t},g={src:r,width:a,height:o};return n&&(l["class"]="history",g["class"]="expanded","hide"==this.thumbStyle&&(g.style="display: none")),parseHTML(d,l,g)}m=function(){function e(e,n){var t=[],r=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(t.push(s.value),!n||t.length!==n);r=!0);}catch(u){i=!0,a=u}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw a}}return t}return function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return e(n,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=n(["<figure>\n            ","\n            ","\n            ","\n        </figure>"],["<figure>\n            ","\n            ","\n            ","\n        </figure>"]),c=n(["<figcaption>\n            ","\n            ","\n            <span>\n                (",")\n            </span>\n            ","\n        </figcaption>"],["<figcaption>\n            ","\n            ","\n            <span>\n                (",")\n            </span>\n            ","\n        </figcaption>"]),h=n(['<a class="imageToggle">\n            [',"]\n        </a>"],['<a class="imageToggle">\n            [',"]\n        </a>"]),p=n(["<a ",">\n                    ","\n                </a>"],["<a ",">\n                    ","\n                </a>"]),f=n(["<a ",">\n            ","\n        </a>"],["<a ",">\n            ","\n        </a>"]),d=n(["<a ",">\n            <img ",">\n        </a>"],["<a ",">\n            <img ",">\n        </a>"]),e("renderImage",u),e("renderFigcaption",l),b={src:o.mediaURL+"src/",thumb:o.mediaURL+"thumb/",mid:o.mediaURL+"mid/",spoil:o.mediaURL+"spoil/spoiler"},y=function(){var e=[{engine:"google",url:"https://www.google.com/searchbyimage?image_url=",type:"thumb",symbol:"G"},{engine:"iqdb",url:"http://iqdb.org/?url=",type:"thumb",symbol:"Iq"},{engine:"saucenao",url:"http://saucenao.com/search.php?db=999&url=",type:"thumb",symbol:"Sn"},{engine:"desustorage",type:"MD5",url:"https://desustorage.org/_/search/image/",symbol:"Ds"},{engine:"exhentai",type:"SHA1",url:"http://exhentai.org/?fs_similar=1&fs_exp=1&f_shash=",symbol:"Ex"}],n={},t=!0,r=!1,a=void 0;try{for(var s,o=function(){var e=s.value,t=e.engine,r=e.url,a=e.type,o=e.symbol,u={target:"_blank",rel:"nofollow","class":"imageSearch "+t};n[t]=function(e){return options.get(t)?(u.href=r+("thumb"===a?i(e):e[a]),parseHTML(p,u,o)):""}},u=e[Symbol.iterator]();!(t=(s=u.next()).done);t=!0)o()}catch(l){r=!0,a=l}finally{try{!t&&u["return"]&&u["return"]()}finally{if(r)throw a}}return n}(),e("renderThumbnail",v)}}});
//# sourceMappingURL=../../maps/posts/render/imager.js.map
