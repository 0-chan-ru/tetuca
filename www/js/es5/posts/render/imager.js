"use strict";System.register(["main","underscore"],function(e,n){function t(e,n){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function r(e){return"hide"!==options.get("thumbs")?"":parseHTML(p,l[e?"hide":"show"])}function i(e){var n="";if([".pdf",".mp3"].indexOf(e.ext)>-1)return options.get("google")?v.google(e):"";for(var t in v)n+=v[t](e);return n}function a(e,n){return y[type]+e[n&&e.mid?"mid":"thumb"]}function s(e){var n="",t=e.imgnm,r=t.match(/^(.*)\.\w{3,4}$/);r&&(n=r[1]);var i=m.escape(t),a=n.length>=38;a&&(t=m.escape(n.slice(0,30))+"(&hellip;)"+m.escape(e.ext));var s={href:u.SECONDARY_MEDIA_URL+"src/"+e.src,rel:"nofollow",download:i};return a&&(s.title=i),parseHTML(d,s,t)}function o(e){var n=e.large,t=e.spoiler,r=y.spoil;return(n||"small"!==options.get("thumbs"))&&(r+="s"),html+=t+".png",{thumb:r,dims:u.images.thumb[n?"midDims":"thumbDims"]}}var u,l,m,g,c,h,p,f,d,b,y,v;return{setters:[function(e){u=e.config,l=e.lang},function(e){m=e}],execute:function(){function n(e,n){var t="hide"!==options.get("thumbs")||n;return parseHTML(c,l(e,n),u.images.hat&&t?'<span class="hat"></span>':"",t?m(e):"")}function l(e,n){var t=commaList([e.audio&&"â™«",e.length,util.readable_filesize(e.size),e.dims[0]+"x"+e.dims[1],e.apng&&"APNG"]);return parseHTML(h,r(n),i(e),t,s(e))}function m(e,n){var t=y.src+e.src,r=void 0,i=g(e.dims,4),a=(i[0],i[1],i[2]),s=i[3];if(e.spoiler&&options.get("spoilers")){var u=o(e);r=u.thumb,a=u.dims[0],s=u.dims[1]}else r=".gif"===e.ext&&options.get("autogif")?t:this.thumbPath(e,"small"!==options.get("thumbs"));var l={target:"_blank",rel:"nofollow",href:n||t},m={src:r,width:a,height:s};return n&&(l["class"]="history",m["class"]="expanded","hide"==this.thumbStyle&&(m.style="display: none")),parseHTML(b,l,m)}g=function(){function e(e,n){var t=[],r=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(t.push(s.value),!n||t.length!==n);r=!0);}catch(u){i=!0,a=u}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw a}}return t}return function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return e(n,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=t(["<figure>\n            ","\n            ","\n            ","\n        </figure>"],["<figure>\n            ","\n            ","\n            ","\n        </figure>"]),h=t(["<figcaption>\n            ","\n            ","\n            <span>\n                (",")\n            </span>\n            ","\n        </figcaption>"],["<figcaption>\n            ","\n            ","\n            <span>\n                (",")\n            </span>\n            ","\n        </figcaption>"]),p=t(['<a class="imageToggle">\n            [',"]\n        </a>"],['<a class="imageToggle">\n            [',"]\n        </a>"]),f=t(["<a ",">\n                    ","\n                </a>"],["<a ",">\n                    ","\n                </a>"]),d=t(["<a ",">\n            ","\n        </a>"],["<a ",">\n            ","\n        </a>"]),b=t(["<a ",">\n            <img ",">\n        </a>"],["<a ",">\n            <img ",">\n        </a>"]),e("renderImage",n),e("renderFigcaption",l),y={src:u.mediaURL+"src/",thumb:u.mediaURL+"thumb/",mid:u.mediaURL+"mid/",spoil:u.mediaURL+"spoil/spoiler"},v=function(){var e=[{engine:"google",url:"https://www.google.com/searchbyimage?image_url=",type:"thumb",symbol:"G"},{engine:"iqdb",url:"http://iqdb.org/?url=",type:"thumb",symbol:"Iq"},{engine:"saucenao",url:"http://saucenao.com/search.php?db=999&url=",type:"thumb",symbol:"Sn"},{engine:"desustorage",type:"MD5",url:"https://desustorage.org/_/search/image/",symbol:"Ds"},{engine:"exhentai",type:"SHA1",url:"http://exhentai.org/?fs_similar=1&fs_exp=1&f_shash=",symbol:"Ex"}],n={},t=!0,r=!1,i=void 0;try{for(var s,o=function(){var e=s.value,t=e.engine,r=e.url,i=e.type,o=e.symbol,u={target:"_blank",rel:"nofollow","class":"imageSearch "+t};n[t]=function(e){return options.get(t)?(u.href=r+("thumb"===i?a(e):e[i]),parseHTML(f,u,o)):""}},u=e[Symbol.iterator]();!(t=(s=u.next()).done);t=!0)o()}catch(l){r=!0,i=l}finally{try{!t&&u["return"]&&u["return"]()}finally{if(r)throw i}}return n}(),e("renderThumbnail",m)}}});
//# sourceMappingURL=../../maps/posts/render/imager.js.map
