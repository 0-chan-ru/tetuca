"use strict";System.register([],function(e){function t(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function n(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var r,i,o,a,u,l,s,c,p,d,f,h,m,y,b,v;return{setters:[],execute:function(){r=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(["<form>\n				",'\n				<input type="submit" value="','">\n			</form>'],["<form>\n				",'\n				<input type="submit" value="','">\n			</form>']),o=n(["<input ",">"],["<input ",">"]),a=n(["<label ",'>\n				<input type="checkbox">\n				',"\n			</label>"],["<label ",'>\n				<input type="checkbox">\n				',"\n			</label>"]),u=n(['<b class="reasonPrompt admin">\n					',"\n				</b>"],['<b class="reasonPrompt admin">\n					',"\n				</b>"]),l=require("main"),s=require("./util"),c=l.$,p=l.Backbone,d=l.common,f=l.lang,h=l.modals,m=d.parseHTML,y=p.View.extend({className:"mod inputBox",events:{submit:"submit"},initialize:function(){h[this.type]=this,this.render()},render:function(){var e=m(i,this.renderInput(),f.send);this.$el.html(e).prependTo(l.$toolbox.$el).find("input").first().focus()},submit:function(e){e.preventDefault();var t=[];c(e.target).find("input[type!=submit]").each(function(){t.push("checkbox"===this.type?this.checked:this.value)}),this.handler(t)},kill:function(){delete h[this.type],this.remove()}}),b=y.extend({type:"notification",renderInput:function(){return m(o,{type:"text",size:25,placeholder:f.mod.placeholders.msg})},handler:function(e){l.send([d.NOTIFICATION,e[0]]),this.kill()}}),exports.notification=b,v=y.extend({type:"ban",renderInput:function(){for(var e="",t=["days","hours","minutes"],n=0;n<t.length;n++){var i=t[n];e+=m(o,{type:"number",placeholder:f.mod.placeholders[i]})}e+=m(o,{type:"text",size:25,placeholder:f.mod.placeholders.reason});var u=r(f.mod.displayBan,2),l=u[0],s=u[1];return e+=m(a,{title:s},l)},handler:function(e){if(!e[3])return this.renderReasonPrompt();for(var n=0;3>n;n++)e[n]=+e[n];e[4]=+e[4];var r=!0,i=!1,o=void 0;try{for(var a,u=s.getSelected()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value;l.send([d.BAN,c].concat(t(e)))}}catch(p){i=!0,o=p}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw o}}this.kill()},renderReasonPrompt:function(){this.$el.find(".reasonPrompt").remove(),this.$el.append(m(u,f.mod.needReason)).find("input[type=text]").focus()}}),exports.ban=v}}});
//# sourceMappingURL=../maps/mod/input.js.map
