"use strict";System.register(["./main","../vendor/underscore"],function(t,r){function n(t){return Array.isArray(t)?t:Array.from(t)}function e(t,r){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(r)}}))}function a(t){return t["class"]="embed",parseHTML(c,t)}function i(t,r){var e=n(r),a=(e[0],e[1]),i=e.slice(2);t+=" (";var o=i.length>1||a;o&&(t+=i.join(", ")),a&&(t+=0>a?" - "+-a:" + "+a);var s=a,u=!0,c=!1,f=void 0;try{for(var l,d=i[Symbol.iterator]();!(u=(l=d.next()).done);u=!0){var v=l.value;s+=v}}catch(h){c=!0,f=h}finally{try{!u&&d["return"]&&d["return"]()}finally{if(c)throw f}}return t+(o?" = ":"")+s+")"}function o(t){return t.replace(/\s*\n\s*/g,"")}var s,u,c,f,l,d;return{setters:[function(t){s=t.config},function(t){u=t.escape}],execute:function(){function r(t){t.html='<del onclick="void(0)">'}function n(t){return t?parseInt(t.getAttribute("id").slice(1),10):0}function v(t){return t?n(t.closest("article, section")):0}function h(t){var r=document.createElement("div");r.innerHTML=t;var n=r.childNodes;return Array.from(n)}function m(t){var r=document.createElement("div");return r.innerHTML=t,r.firstChild}function p(t,r,n,e){t.addEventListener(r,function(t){t.target.matches(n)&&e.call(this,t)})}function y(t,r,n){t.addEventListener(r,function(e){n.call(this,e),t.removeEventListener(r,n)})}function g(t){var r=getComputedStyle(t),n=["marginLeft","marginRight","paddingLeft","paddingRight"],e=0,a=!0,i=!1,o=void 0;try{for(var s,u=n[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var c=s.value;e+=parseInt(r[c])}}catch(f){i=!0,o=f}finally{try{!a&&u["return"]&&u["return"]()}finally{if(i)throw o}}return e}function b(t){return t&&"sage"===t.trim()}function L(){var t=Date.now();return imports.isNode?t:(l||(l=imports.main.request("time:offset")),t+l)}function E(t,r){var n=void 0;switch(t){case"#flip":n=(2==r[2]).toString();break;case"#8ball":n=imports.hotConfig.EIGHT_BALL[r[2]-1];break;case"#pyu":case"#pcount":case"#q":n=r[0]}return void 0!==n?u(t+" ("+n+")"):/^#sw/.test(t)?a(r[0]):i(t,r)}function w(t){var r=imports.config.SPOILER_IMAGES,n=r.length,e=void 0;return e=0>t?Math.floor(Math.random()*n):t%n,{index:r[e],next:(e+1)%n}}function S(t){return 1024>t?t+" B":1048576>t?Math.round(t/1024)+" KB":(t=Math.round(t/104857.6).toString(),t.slice(0,-1)+"."+t.slice(-1)+" MB")}function M(t){return(10>t?"0":"")+t}function _(t,r,n,e){return k(f,t,n&&' id="'+n+'"',e&&' class="'+e+'"',r)}function A(t){return Number.isInteger(t)&&500>=t}function x(t){var r="",n="",e=t.indexOf("#");return e>=0&&(r=t.substr(e+1),t=t.substr(0,e),e=r.indexOf("#"),e>=0&&(n=u(r.substr(e+1)),r=r.substr(0,e)),r=u(r)),t=t.trim().replace(imports.hotConfig.EXCLUDE_REGEXP,""),[t.substr(0,100),r.substr(0,128),n.substr(0,128)]}function I(t){for(var r="",n=0;t>n;n++){var e=(36*Math.random()).toString(36)[0];Math.random()<.5&&(e=e.toUpperCase()),r+=e}return r}function k(t){for(var r=arguments.length,n=Array(r>1?r-1:0),e=1;r>e;e++)n[e-1]=arguments[e];if("string"==typeof t)return o(t);if("function"==typeof t)return function(){return o(t.apply(void 0,arguments))};for(var a=t[0],i=1;i<=n.length;i++)a+=n[i-1]+t[i];return o(a)}function C(t){var r="";for(var n in t){r+=" ";var e=t[n];e===!0?r+=n:(e||0===e)&&(r+=n+'="'+e+'"')}return r}function O(t){var r="",n=!0,e=!1,a=void 0;try{for(var i,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value;(s||0===s)&&(r&&(r+=", "),r+=s)}}catch(u){e=!0,a=u}finally{try{!n&&o["return"]&&o["return"]()}finally{if(e)throw a}}return r}function T(t){var r=s.staff.classes[main.ident&&main.ident.auth];return r&&!!r.rights[t]}c=e(["<syncwatch ",">\n			syncwatch\n		</syncwatch>"],["<syncwatch ",">\n			syncwatch\n		</syncwatch>"]),f=e(['<span class="act">\n			<a href="','"\n				',"\n				","\n			>\n				","\n			</a>\n		</span>"],['<span class="act">\n			<a href="','"\n				',"\n				","\n			>\n				","\n			</a>\n		</span>"]),t("touchable_spoiler_tag",r),t("getNum",n),t("getID",v),t("parseEls",h),t("parseEl",m),t("listener",p),t("once",y),t("outerWidth",g),t("isSage",b),l=void 0,t("serverTime",L),t("readable_dice",E),t("pick_spoiler",w),t("thumbStyles",d=["small","sharp","hide"]),t("thumbStyles",d),t("readable_filesize",S),t("pad",M),t("action_link_html",_),t("resonableLastN",A),t("parse_name",x),t("randomID",I),t("parseHTML",k),t("parseAtributes",C),t("commaList",O),t("checkAuth",T)}}});
//# sourceMappingURL=maps/util.js.map
