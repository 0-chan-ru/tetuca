"use strict";System.register(["./main","../vendor/underscore"],function(t,n){function r(t){return Array.isArray(t)?t:Array.from(t)}function e(t,n){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))}function i(t){return t["class"]="embed",parseHTML(u,t)}function a(t,n){var e=r(n),i=(e[0],e[1]),a=e.slice(2);t+=" (";var o=a.length>1||i;o&&(t+=a.join(", ")),i&&(t+=0>i?" - "+-i:" + "+i);var s=i,c=!0,u=!1,f=void 0;try{for(var l,d=a[Symbol.iterator]();!(c=(l=d.next()).done);c=!0){var v=l.value;s+=v}}catch(m){u=!0,f=m}finally{try{!c&&d["return"]&&d["return"]()}finally{if(u)throw f}}return t+(o?" = ":"")+s+")"}function o(t){return t.replace(/\s*\n\s*/g,"")}var s,c,u,f,l,d;return{setters:[function(t){s=t.config},function(t){c=t.escape}],execute:function(){function n(t){t.html='<del onclick="void(0)">'}function r(t){return t?parseInt(t.getAttribute("id").slice(1),10):0}function v(t){return t?r(t.closest("article, section")):0}function m(t){var n=document.createElement("div");n.innerHTML=t;var r=n.childNodes;return Array.from(r)}function h(t){var n=document.createElement("div");return n.innerHTML=t,n.firstChild}function p(t,n,r,e){t.addEventListener(n,function(t){t.target.matches(r)&&e.call(this,t)})}function y(t,n,r){t.addEventListener(n,function(e){r.call(this,e),t.removeEventListener(n,r)})}function g(t){var n=getComputedStyle(t),r=["marginLeft","marginRight","paddingLeft","paddingRight"],e=0,i=!0,a=!1,o=void 0;try{for(var s,c=r[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var u=s.value;e+=parseInt(n[u])}}catch(f){a=!0,o=f}finally{try{!i&&c["return"]&&c["return"]()}finally{if(a)throw o}}return e}function b(t){return t&&"sage"===t.trim()}function L(){var t=Date.now();return imports.isNode?t:(l||(l=imports.main.request("time:offset")),t+l)}function E(t,n){var r=void 0;switch(t){case"#flip":r=(2==n[2]).toString();break;case"#8ball":r=imports.hotConfig.EIGHT_BALL[n[2]-1];break;case"#pyu":case"#pcount":case"#q":r=n[0]}return void 0!==r?c(t+" ("+r+")"):/^#sw/.test(t)?i(n[0]):a(t,n)}function w(t){var n=imports.config.SPOILER_IMAGES,r=n.length,e=void 0;return e=0>t?Math.floor(Math.random()*r):t%r,{index:n[e],next:(e+1)%r}}function S(t){return 1024>t?t+" B":1048576>t?Math.round(t/1024)+" KB":(t=Math.round(t/104857.6).toString(),t.slice(0,-1)+"."+t.slice(-1)+" MB")}function M(t){return(10>t?"0":"")+t}function _(t,n,r,e){return k(f,t,r&&' id="'+r+'"',e&&' class="'+e+'"',n)}function A(t){return Number.isInteger(t)&&500>=t}function x(t){var n="",r="",e=t.indexOf("#");return e>=0&&(n=t.substr(e+1),t=t.substr(0,e),e=n.indexOf("#"),e>=0&&(r=c(n.substr(e+1)),n=n.substr(0,e)),n=c(n)),t=t.trim().replace(imports.hotConfig.EXCLUDE_REGEXP,""),[t.substr(0,100),n.substr(0,128),r.substr(0,128)]}function I(t){for(var n="",r=0;t>r;r++){var e=(36*Math.random()).toString(36)[0];Math.random()<.5&&(e=e.toUpperCase()),n+=e}return n}function k(t){if("string"==typeof t)return o(t);for(var n=arguments.length,r=[],e=1;n>e;e++)r[e-1]=arguments[e];if("function"==typeof t)return o(t(r));var i=t.slice(0,n).map(function(t,n){return r[n-1]+t}).join("");return o(i)}function C(t){var n="";for(var r in t){n+=" ";var e=t[r];e===!0?n+=r:(e||0===e)&&(n+=r+'="'+e+'"')}return n}function O(t){var n="",r=!0,e=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;(s||0===s)&&(n&&(n+=", "),n+=s)}}catch(c){e=!0,i=c}finally{try{!r&&o["return"]&&o["return"]()}finally{if(e)throw i}}return n}function T(t){var n=s.staff.classes[main.ident&&main.ident.auth];return n&&!!n.rights[t]}u=e(["<syncwatch ",">\n			syncwatch\n		</syncwatch>"],["<syncwatch ",">\n			syncwatch\n		</syncwatch>"]),f=e(['<span class="act">\n			<a href="','"\n				',"\n				","\n			>\n				","\n			</a>\n		</span>"],['<span class="act">\n			<a href="','"\n				',"\n				","\n			>\n				","\n			</a>\n		</span>"]),t("touchable_spoiler_tag",n),t("getNum",r),t("getID",v),t("parseEls",m),t("parseEl",h),t("listener",p),t("once",y),t("outerWidth",g),t("isSage",b),l=void 0,t("serverTime",L),t("readable_dice",E),t("pick_spoiler",w),t("thumbStyles",d=["small","sharp","hide"]),t("thumbStyles",d),t("readable_filesize",S),t("pad",M),t("action_link_html",_),t("resonableLastN",A),t("parse_name",x),t("randomID",I),t("parseHTML",k),t("parseAtributes",C),t("commaList",O),t("checkAuth",T)}}});
//# sourceMappingURL=maps/util.js.map
