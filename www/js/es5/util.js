"use strict";System.register(["./main","../vendor/underscore"],function(t,r){function n(t){return Array.isArray(t)?t:Array.from(t)}function e(t,r){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(r)}}))}function a(t){return t["class"]="embed",parseHTML(u,t)}function i(t,r){var e=n(r),a=(e[0],e[1]),i=e.slice(2);t+=" (";var o=i.length>1||a;o&&(t+=i.join(", ")),a&&(t+=0>a?" - "+-a:" + "+a);var s=a,c=!0,u=!1,f=void 0;try{for(var l,d=i[Symbol.iterator]();!(c=(l=d.next()).done);c=!0){var v=l.value;s+=v}}catch(m){u=!0,f=m}finally{try{!c&&d["return"]&&d["return"]()}finally{if(u)throw f}}return t+(o?" = ":"")+s+")"}function o(t){return t.replace(/\s*\n\s*/g,"")}var s,c,u,f,l,d;return{setters:[function(t){s=t.config},function(t){c=t.escape}],execute:function(){function r(t){t.html='<del onclick="void(0)">'}function n(t){return t?parseInt(t.getAttribute("id").slice(1),10):0}function v(t){return t?n(t.closest("article, section")):0}function m(t){var r=document.createElement("div");r.innerHTML=t;var n=r.childNodes;return Array.from(n)}function h(t){var r=document.createElement("div");return r.innerHTML=t,r.firstChild}function p(t,r,n,e){t.addEventListener(r,function(t){t.target.matches(n)&&e.call(this,t)})}function y(t,r,n){t.addEventListener(r,function(e){n.call(this,e),t.removeEventListener(r,n)})}function g(t){var r=getComputedStyle(t),n=["marginLeft","marginRight","paddingLeft","paddingRight"],e=0,a=!0,i=!1,o=void 0;try{for(var s,c=n[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var u=s.value;e+=parseInt(r[u])}}catch(f){i=!0,o=f}finally{try{!a&&c["return"]&&c["return"]()}finally{if(i)throw o}}return e}function b(t){return t&&"sage"===t.trim()}function L(){var t=Date.now();return imports.isNode?t:(l||(l=imports.main.request("time:offset")),t+l)}function E(t,r){var n=void 0;switch(t){case"#flip":n=(2==r[2]).toString();break;case"#8ball":n=imports.hotConfig.EIGHT_BALL[r[2]-1];break;case"#pyu":case"#pcount":case"#q":n=r[0]}return void 0!==n?c(t+" ("+n+")"):/^#sw/.test(t)?a(r[0]):i(t,r)}function w(t){var r=imports.config.SPOILER_IMAGES,n=r.length,e=void 0;return e=0>t?Math.floor(Math.random()*n):t%n,{index:r[e],next:(e+1)%n}}function S(t){return(10>t?"0":"")+t}function A(t,r,n,e){return I(f,t,n&&' id="'+n+'"',e&&' class="'+e+'"',r)}function _(t){return Number.isInteger(t)&&500>=t}function M(t){var r="",n="",e=t.indexOf("#");return e>=0&&(r=t.substr(e+1),t=t.substr(0,e),e=r.indexOf("#"),e>=0&&(n=c(r.substr(e+1)),r=r.substr(0,e)),r=c(r)),t=t.trim().replace(imports.hotConfig.EXCLUDE_REGEXP,""),[t.substr(0,100),r.substr(0,128),n.substr(0,128)]}function x(t){for(var r="",n=0;t>n;n++){var e=(36*Math.random()).toString(36)[0];Math.random()<.5&&(e=e.toUpperCase()),r+=e}return r}function I(t){for(var r=arguments.length,n=Array(r>1?r-1:0),e=1;r>e;e++)n[e-1]=arguments[e];if("string"==typeof t)return o(t);if("function"==typeof t)return function(){return o(t.apply(void 0,arguments))};for(var a=t[0],i=1;i<=n.length;i++)a+=n[i-1]+t[i];return o(a)}function k(t){var r="";for(var n in t){r+=" ";var e=t[n];e===!0?r+=n:(e||0===e)&&(r+=n+'="'+e+'"')}return r}function C(t){var r="",n=!0,e=!1,a=void 0;try{for(var i,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value;r&&(r+=", "),r+=s}}catch(c){e=!0,a=c}finally{try{!n&&o["return"]&&o["return"]()}finally{if(e)throw a}}return r}function O(t){var r=s.staff.classes[main.ident&&main.ident.auth];return r&&!!r.rights[t]}u=e(["<syncwatch ",">\n			syncwatch\n		</syncwatch>"],["<syncwatch ",">\n			syncwatch\n		</syncwatch>"]),f=e(['<span class="act">\n			<a href="','"\n				',"\n				","\n			>\n				","\n			</a>\n		</span>"],['<span class="act">\n			<a href="','"\n				',"\n				","\n			>\n				","\n			</a>\n		</span>"]),t("touchable_spoiler_tag",r),t("getNum",n),t("getID",v),t("parseEls",m),t("parseEl",h),t("listener",p),t("once",y),t("outerWidth",g),t("isSage",b),l=void 0,t("serverTime",L),t("readable_dice",E),t("pick_spoiler",w),t("thumbStyles",d=["small","sharp","hide"]),t("thumbStyles",d),t("pad",S),t("action_link_html",A),t("resonableLastN",_),t("parse_name",M),t("randomID",x),t("parseHTML",I),t("parseAttributes",k),t("commaList",C),t("checkAuth",O)}}});
//# sourceMappingURL=maps/util.js.map
