{"version":3,"sources":["posts/render/etc.js"],"names":[],"mappings":"kGAuBA,SAAS,UAAT,CAAoB,IAApB,CAA0B,IAA1B,CAAgC,CAC/B,OAAO,SACN,CAAC,yBAAD,GAA4B,IAA5B,EAAiC;GAAjC,GACG,IADH,EACQ;MADR,CADM,CADwB,CAAhC,kCAvBQ,iBAAM,mCACP,yCAGA,SAAS,cAAT,CAAwB,GAAxB,CAA6B,KAA7B,CAAoC,EAApC,CAAwC,CAC9C,IAAI,KAAO,IAAP,CAD0C,GAE1C,QAAU,KAAK,GAAL,CAAS,OAAT,CAAV,CAA6B,CAChC,MAAQ,CAAC,EAAD,GAAK,KAAL,EAAW,CAAX,CAAR,CADgC,CAAjC,IAGA,EAAQ,GAAR,CAL8C,GAM1C,KAAK,GAAL,CAAS,GAAT,CAAJ,CAAmB,CAClB,MAAQ,IAAM,KAAK,GAAL,CADI,CAAnB,MAGM,OAAS,KAAK,GAAL,CAAS,QAAT,CAAT,CATwC,GAU1C,KAAO,MAAP,CAAe,CAClB,MAAQ,SAAR,CADkB,CAAnB,KAEO,GAAI,KAAO,MAAP,CAAe,CACzB,MAAQ,IAAM,KAAK,EAAL,CADW,CAAnB,OAGA,WAAW,CAAC,CAAD,GAAI,KAAJ,EAAU,CAAV,GAAa,EAAb,EAAgB,CAAhB,GAAmB,GAAnB,EAAuB,CAAlC,CAAqC,IAArC,CAAP,CAf8C,CAAxC,yCA2BA,SAAS,WAAT,EAAuB,CAC7B,OAAO,CAAC,4BAAD,GAA+B,KAAK,GAAL,CAAS,UAAT,EAAoB,IAAnD,CAAP,CAD6B,CAAvB,mCAKA,SAAS,aAAT,CAAuB,IAAvB,CAA6B,CACnC,IAAI,KAAO,0BAAP,CAD+B,IAE9B,IAAI,MAAJ,IAAc,IAAnB,CAAyB,CACxB,MAAQ,CAAC,GAAE,KAAK,GAAL,CAAS,SAAT,CAAmB,MAAnB,CAAH,EAA8B,IAA9B,CAAR,CADwB,CAAzB,IAGA,EAAQ,MAAR,CALmC,OAM5B,IAAP,CANmC,CAA7B,uCAUA,SAAS,eAAT,CAAyB,KAAzB,CAAgC,CACtC,GAAI,CAAC,KAAD,CAAQ,CACX,OAAO,EAAP,CADW,CAAZ,IAGI,KAAO,EAAP,CAJkC,YAKtC,IAAwB,KAAxB,CAA+B,KAArB,iBAAqB,IAAd,WAAc,GAC1B,IAAJ,CAAU,CACT,MAAQ,GAAR,CADS,CAAV,IAGA,EAAQ,eAAe,MAAM,GAAN,CAAf,CAA2B,KAA3B,CAAkC,EAAlC,CAAR,CAJ8B,CAA/B,OAMO,IAAP,CAXsC,CAAhC","file":"posts/render/etc.js","sourcesContent":["import {page, mine} from '../../state'\nimport lang from 'lang'\n\n// Render a link to other posts\nexport function renderPostLink(num, board, op) {\n\tlet text = '>>'\n\tif (board !== page.get('board')) { // Cross-board\n\t\ttext += `>/${board}/`\n\t}\n\ttext += num\n\tif (mine.get(num)) { // Post, I made\n\t\ttext += ' ' + lang.you\n\t}\n\tconst thread = page.get('thread')\n\tif (op !== thread) { // Cross-thread\n\t\ttext += ' \\u27a1'\n\t} else if (num == thread) { // OP post of this thread\n\t\ttext += ' ' + lang.OP\n\t}\n\treturn postAnchor(`/${board}/${op}#${num}`, text)\n}\n\n// Render the anchor element of a post link\nfunction postAnchor(href, text) {\n\treturn parseHTML\n\t\t`<a class=\"history\" href=\"${href}\">\n\t\t\t${text}\n\t\t</a>`\n}\n\n// Render USER WAS BANNED FOR THIS POST message, or similar\nexport function renerBanned() {\n\treturn `<b class=\"admin banMessage\">${lang.mod.banMessage}</b>`\n}\n\n// Render moderation information. Only exposed to authenticated staff.\nexport function renderModInfo(info) {\n\tlet html = '<b class=\"modLog admin\">'\n\tfor (let action of info) {\n\t\thtml += `${lang.mod.formatLog(action)}<br>`\n\t}\n\thtml += '</b>'\n\treturn html\n}\n\n// Render links to posts that are linking to the target post\nexport function renderBacklinks(links) {\n\tif (!links) {\n\t\treturn ''\n\t}\n\tlet html = ''\n\tfor (let {board, op} in links) {\n\t\tif (html) {\n\t\t\thtml += ' '\n\t\t}\n\t\thtml += renderPostLink(links[num], board, op)\n\t}\n\treturn html\n}\n"],"sourceRoot":"/source/"}