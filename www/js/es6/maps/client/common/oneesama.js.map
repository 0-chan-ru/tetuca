{"version":3,"sources":["client/common/oneesama.js"],"names":[],"mappings":"iGAIM,QAAI,QAAQ,YAAR,CAAJ,CACL,YAAQ,QAAQ,SAAR,CAAR,CACA,WAAO,QAAQ,QAAR,CAAP,cACW,QAAX,MAAC,sBAAD,OACC,IAAkB,KAAlB,UAAK,UAAa,KAAb,UAEP,MAAM,SAAW,IAAI,MAAJ,CAAW,QAAU,MAAM,iBAAN,CAA0B,IAApC,CAAtB,CAEN,MAAM,QAAN,CAGC,gBAAgB,CAAhB,CAAmB,OAAnB,CAA4B,CAC3B,IAAI,KAAO,IAAI,EAAE,UAAF,EAAJ,EAAsB,GAAtB,CACR,KAAK,IAAL,CAAU,IAAV,CAAe,EAAE,WAAF,EAAf,CADQ,CAC0B,GAD1B,CAER,EAAE,cAAF,EAFQ,CAGR,CAAC,CAAD,GAAI,KAAK,IAAL,CAAU,IAAV,CAAe,EAAE,SAAF,EAAf,CAAJ,EAAkC,CAAlC,CAHQ,CAIT,CAAC,GAAE,IAAI,EAAE,WAAF,EAAJ,CAAH,EAAwB,CAAxB,GAA2B,IAAI,EAAE,aAAF,EAAJ,CAA3B,EAAkD,CAJzC,CADgB,GAMvB,OAAJ,CACC,MAAQ,CAAC,CAAD,GAAI,IAAI,EAAE,aAAF,EAAJ,CAAJ,EAA2B,CAAnC,CADD,IAEA,EAAQ,MAAR,CAR2B,OASpB,IAAP,CAT2B,CAA5B,cAaA,CAAe,GAAf,CAAoB,CACnB,OAAO,SACN,CAAC;aAAD,GACY,GADZ,EACgB;KADhB,GAEI,KAAK,IAAL,CAAU,MAAV,EAAiB;;;aAFrB,GAKY,GALZ,EAKgB,MALhB,GAKwB,KAAK,KAAL,EAAW;KALnC,GAMI,KAAK,IAAL,CAAU,IAAV,EAAe,CANnB,GAMsB,KAAK,KAAL,EAAW;;UANjC,CADM,CADY,CAApB,SAcA,CAAU,KAAV,CAAiB,IAAjB,CAAuB,GAAvB,CAA4B,QAA5B,CAAsC,CACrC,OAAO,SACN,CAAC,wBAAD,GAA2B,GAA3B,EAA+B;OAA/B,GACM,MAAQ,CAAC,MAAD,GAAS,IAAT,EAAc,CAAd,CAAR,EAAyB;KAD/B,GAEI,UAAY,CAAC,QAAD,GAAW,QAAX,EAAoB,CAApB,CAAZ,EAAmC;;KAFvC,GAII,KAAK,IAAL,CAAU,KAAV,GAAoB,KAApB,EAA0B;;WAJ9B,CADM,CAD8B,CAAtC,QAUA,EAAW,CACV,OAAO,KAAK,SAAL,CAAe,OAAf,CAAwB,IAAxB,CAA8B,SAA9B,CAAP,CADU,CAAX,YAGA,EAAe,CACd,OAAO,KAAK,SAAL,CAAe,WAAf,CAA4B,IAA5B,CAAkC,SAAlC,CAAP,CADc,CAAf,CA3CD,MA+CA,CAAO,OAAP,CAAiB,QAAjB","file":"client/common/oneesama.js","sourcesContent":["/*\n Rendering singleton both server and client-side\n */\n\nconst _ = require('underscore'),\n\tindex = require('./index'),\n\tutil = require('./util'),\n\t{config} = imports,\n\t{pad, parseHTML} = util;\n\nconst break_re = new RegExp(\"(\\\\S{\" + index.WORD_LENGTH_LIMIT + \"})\");\n\nclass OneeSama {\n\n\n\treadableUTCTime(d, seconds) {\n\t\tlet html = pad(d.getUTCDate()) + ' '\n\t\t\t+ this.lang.year[d.getUTCMonth()] + ' '\n\t\t\t+ d.getUTCFullYear()\n\t\t\t+ `(${this.lang.week[d.getUTCDay()]})`\n\t\t\t+`${pad(d.getUTCHours())}:${pad(d.getUTCMinutes())}`;\n\t\tif (seconds)\n\t\t\thtml += `:${pad(d.getUTCSeconds())}`;\n\t\thtml += ' UTC';\n\t\treturn html;\n\t}\n\n\n\texpansionLinks(num) {\n\t\treturn parseHTML\n\t\t\t`<span class=\"act expansionLinks\">\n\t\t\t\t<a href=\"${num}\" class=\"history\">\n\t\t\t\t\t${this.lang.expand}\n\t\t\t\t</a>\n\t\t\t\t] [\n\t\t\t\t<a href=\"${num}?last=${this.lastN}\" class=\"history\">\n\t\t\t\t\t${this.lang.last} ${this.lastN}\n\t\t\t\t</a>\n\t\t\t</span>`;\n\t}\n\n\n\tasideLink(inner, href, cls, innerCls) {\n\t\treturn parseHTML\n\t\t\t`<aside class=\"act glass ${cls}\">\n\t\t\t\t<a ${href && `href=\"${href}\"`}\n\t\t\t\t\t${innerCls && ` class=\"${innerCls}\"`}\n\t\t\t\t>\n\t\t\t\t\t${this.lang[inner] || inner}\n\t\t\t\t</a>\n\t\t\t</aside>`\n\t}\n\treplyBox() {\n\t\treturn this.asideLink('reply', null, 'posting');\n\t}\n\tnewThreadBox() {\n\t\treturn this.asideLink('newThread', null, 'posting');\n\t}\n}\nmodule.exports = OneeSama;\n"],"sourceRoot":"/source/"}