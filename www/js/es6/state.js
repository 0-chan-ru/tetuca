'use strict';System.register(['../vendor/underscore','./memory','./main','./util'],function(_export){var extend,Memory,$threads,randomID;return {setters:[function(_vendorUnderscore){extend=_vendorUnderscore.extend;},function(_memory){Memory=_memory.default;},function(_main){$threads=_main.$threads;},function(_util){randomID=_util.randomID;}],execute:function(){function read(href){const state={board:href.match(/\/([a-zA-Z0-9]+?)\//)[1],thread:href.match(/\/(\d+)(:?#\d+)?(?:[\?&]\w+=\w+)*$/),lastN:href.match(/[\?&]last=(\d+)/)};for(let key of ['thread','lastN']){const val=state[key];state[key]=val?parseInt(val[1]):0;}return state;}_export('read',read);let syncs={};_export('syncs',syncs);const ownPosts={};_export('ownPosts',ownPosts);const mine=new Memory('mine',2,true);_export('mine',mine);function clear(){$threads.innerHTML='';models.each(model => model.dispatch('stopListening'));posts.reset();exports.syncs={};events.request('massExpander:unset');}_export('clear',clear);const links={};_export('links',links);function addLinks(addition){if(addition){extend(links,addition);}}_export('addLinks',addLinks);}};});
//# sourceMappingURL=maps/state.js.map
